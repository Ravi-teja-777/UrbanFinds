{% extends "base.html" %}

{% block title %}Apply for Property{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4>Apply for "{{ property.title }}"</h4>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('apply_property', property_id=property.property_id) }}">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="monthly_income">Monthly Income ($)*</label>
                                    <input type="number" step="0.01" class="form-control" id="monthly_income" name="monthly_income" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="credit_score">Credit Score*</label>
                                    <input type="number" min="300" max="850" class="form-control" id="credit_score" name="credit_score" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="rent_budget">Monthly Rent Budget ($)*</label>
                                    <input type="number" step="0.01" class="form-control" id="rent_budget" name="rent_budget" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="move_in_date">Preferred Move-in Date*</label>
                                    <input type="date" class="form-control" id="move_in_date" name="move_in_date" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="employment_status">Employment Status*</label>
                                    <select class="form-control" id="employment_status" name="employment_status" required>
                                        <option value="full_time">Full-time employed</option>
                                        <option value="part_time">Part-time employed</option>
                                        <option value="self_employed">Self-employed</option>
                                        <option value="student">Student</option>
                                        <option value="unemployed">Unemployed</option>
                                        <option value="retired">Retired</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="employment_length">Length of Employment</label>
                                    <input type="text" class="form-control" id="employment_length" name="employment_length" placeholder="e.g. 3 years, 6 months">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label for="additional_notes">Additional Information</label>
                            <textarea class="form-control" id="additional_notes" name="additional_notes" rows="4" placeholder="Any other information you'd like the landlord to know..."></textarea>
                        </div>
                        
                        <div class="form-group mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="terms_agreement" required>
                                <label class="form-check-label" for="terms_agreement">
                                    I agree that the information provided is accurate and consent to a credit and background check if necessary.
                                </label>
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Submit Application</button>
                            <a href="{{ url_for('view_property', property_id=property.property_id) }}" class="btn btn-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
